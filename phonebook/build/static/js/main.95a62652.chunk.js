(this["webpackJsonpcollections-n-forms"]=this["webpackJsonpcollections-n-forms"]||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),u=t.n(c),o=t(3),i=function(e){var n=e.filter,t=e.persons,a=e.handleDelete,c=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return r.a.createElement("div",null,c.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("span",{className:"contact"},e.name," ",e.number," ",r.a.createElement("button",{onClick:function(){return a(e)},className:"contactBtn"},"Delete")))})))},l=function(e){var n=e.filter,t=e.handle;return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},"filter shown with ",r.a.createElement("input",{type:"text",value:n,onChange:t}))},m=function(e){var n=e.info;return r.a.createElement("form",{onSubmit:n.addContact},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n.newName,onChange:n.handleNameChange})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:n.newNumber,onChange:n.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.notification;return null===n?null:r.a.createElement("div",{className:"".concat(n.type," notification")},n.message)},s=t(2),d=t.n(s),h=function(){return d.a.get("/api/numbers").then((function(e){return e.data}))},b=function(e){return d.a.post("/api/numbers",e).then((function(e){return e.data}))},p=function(e,n){return d.a.put("".concat("/api/numbers","/").concat(e),n).then((function(e){return e.data}))},v=function(e){return d.a.delete("".concat("/api/numbers","/").concat(e)).then((function(e){return e.data}))};var E=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),s=Object(o.a)(u,2),d=s[0],E=s[1],g=Object(a.useState)(""),w=Object(o.a)(g,2),C=w[0],N=w[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),O=y[0],D=y[1],S=Object(a.useState)(null),k=Object(o.a)(S,2),T=k[0],x=k[1];Object(a.useEffect)((function(){h().then((function(e){c(e)}))}),[]);var A={addContact:function(e){if(e.preventDefault(),t.find((function(e){return e.name===d}))){if(window.confirm("".concat(d," is already in the phonebook, replace the old number with the new one?"))){var n=function(e,n){return n.find((function(n){return n.name===e})).id}(d,t);p(n,{name:d,number:C}).then((function(e){c(t.map((function(t){return n!==t.id?t:e}))),x({message:"Updated ".concat(d),type:"success"}),setTimeout((function(){x(null)}),5e3)})).catch((function(e){x({message:"Information of ".concat(d," has already been removed from server"),type:"error"}),setTimeout((function(){x(null)}),5e3)}))}}else b({name:d,number:C}).then((function(e){c(t.concat(e)),x({message:"Added ".concat(d),type:"success"}),setTimeout((function(){x(null)}),5e3)})).catch((function(e){x({message:e.response.data.error,type:"error"}),setTimeout((function(){x(null)}),5e3)})),E(""),N("")},newName:d,newNumber:C,handleNameChange:function(e){E(e.target.value)},handleNumberChange:function(e){N(e.target.value)}};return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(f,{notification:T}),r.a.createElement(l,{filter:O,handle:function(e){e.preventDefault();var n=e.target.value;D(n)}}),r.a.createElement("h2",null,"Add a new number"),r.a.createElement(m,{info:A}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{filter:O,persons:t,handleDelete:function(e){window.confirm("Delete ".concat(e.name,"?"))&&v(e.id).then((function(){c(t.filter((function(n){return n.id!==e.id})))}))}}))};t(36);u.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.95a62652.chunk.js.map